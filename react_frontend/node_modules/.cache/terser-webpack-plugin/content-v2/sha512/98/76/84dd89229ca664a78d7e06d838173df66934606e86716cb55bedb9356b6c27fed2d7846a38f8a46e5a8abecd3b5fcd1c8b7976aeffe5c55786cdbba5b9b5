{"map":"{\"version\":3,\"sources\":[\"/Users/mac/Desktop/moja_apka/react_frontend/src/App.js\",\"/Users/mac/Desktop/moja_apka/react_frontend/src/index.js\"],\"names\":[\"App\",\"file\",\"setFile\",\"useState\",\"analysis\",\"setAnalysis\",\"loading\",\"setLoading\",\"error\",\"setError\",\"progress\",\"setProgress\",\"React\",\"createElement\",\"className\",\"onSubmit\",\"async\",\"event\",\"preventDefault\",\"formData\",\"FormData\",\"append\",\"response\",\"axios\",\"post\",\"headers\",\"Content-Type\",\"timeout\",\"onUploadProgress\",\"progressEvent\",\"percentCompleted\",\"Math\",\"round\",\"loaded\",\"total\",\"data\",\"isAxiosError\",\"code\",\"concat\",\"detail\",\"request\",\"message\",\"console\",\"type\",\"onChange\",\"selectedFile\",\"target\",\"files\",\"size\",\"accept\",\"disabled\",\"style\",\"width\",\"summary\",\"key_points\",\"map\",\"point\",\"index\",\"key\",\"arguments_for\",\"arg\",\"arguments_against\",\"ReactDOM\",\"render\",\"StrictMode\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { useState } from 'react';\\nimport axios from 'axios';\\nimport './App.css'; // We'll create this file for styling\\n\\nfunction App() {\\n  const [file, setFile] = useState(null);\\n  const [analysis, setAnalysis] = useState(null);\\n  const [loading, setLoading] = useState(false);\\n  const [error, setError] = useState(null);\\n  const [progress, setProgress] = useState(0);\\n\\n  const handleFileChange = (event) => {\\n    const selectedFile = event.target.files[0];\\n    if (selectedFile && selectedFile.size > 10 * 1024 * 1024) {\\n      setError(\\\"File size exceeds 10MB limit.\\\");\\n      setFile(null);\\n    } else {\\n      setFile(selectedFile);\\n      setError(null);\\n    }\\n  };\\n\\n  const handleSubmit = async (event) => {\\n    event.preventDefault();\\n    if (!file) return;\\n\\n    setLoading(true);\\n    setError(null);\\n    setAnalysis(null);\\n    setProgress(0);\\n    const formData = new FormData();\\n    formData.append('file', file);\\n\\n    try {\\n      const response = await axios.post('http://localhost:3005/api/analyze/', formData, {\\n        headers: { 'Content-Type': 'multipart/form-data' },\\n        timeout: 300000,\\n        onUploadProgress: (progressEvent) => {\\n          const percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\\n          setProgress(percentCompleted);\\n        }\\n      });\\n      setAnalysis(response.data);\\n    } catch (error) {\\n      if (axios.isAxiosError(error)) {\\n        if (error.code === 'ECONNABORTED') {\\n          setError('The request timed out. Please try again or use a smaller file.');\\n        } else if (error.response) {\\n          setError(`Error: ${error.response.data.detail || 'Unknown error'}`);\\n        } else if (error.request) {\\n          setError('No response received from server. Please check your connection and try again.');\\n        } else {\\n          setError(`Error: ${error.message}`);\\n        }\\n      } else {\\n        setError('An unexpected error occurred. Please try again.');\\n      }\\n      console.error('Error analysing file:', error);\\n    } finally {\\n      setLoading(false);\\n    }\\n  };\\n\\n  return (\\n    <div className=\\\"app\\\">\\n      <h1>Australian Parliamentary Bill Analyser</h1>\\n      <form onSubmit={handleSubmit} className=\\\"upload-form\\\">\\n        <input \\n          type=\\\"file\\\" \\n          onChange={handleFileChange} \\n          accept=\\\".pdf\\\" \\n          className=\\\"file-input\\\"\\n        />\\n        <button \\n          type=\\\"submit\\\" \\n          disabled={!file || loading} \\n          className={`submit-button ${(!file || loading) ? 'disabled' : ''}`}\\n        >\\n          {loading ? 'Analysing...' : 'Analyse Bill'}\\n        </button>\\n      </form>\\n      {loading && (\\n        <div className=\\\"progress-bar\\\">\\n          <div className=\\\"progress-fill\\\" style={{width: `${progress}%`}}>\\n            {progress}%\\n          </div>\\n        </div>\\n      )}\\n      {error && <p className=\\\"error\\\">{error}</p>}\\n      {analysis && (\\n        <div className=\\\"results\\\">\\n          <h2>Analysis Results</h2>\\n          <h3>Summary</h3>\\n          <p>{analysis.summary}</p>\\n          <h3>Key Points</h3>\\n          <ul>\\n            {analysis.key_points.map((point, index) => (\\n              <li key={index}>{point}</li>\\n            ))}\\n          </ul>\\n          <h3>Arguments For</h3>\\n          <ul>\\n            {analysis.arguments_for.map((arg, index) => (\\n              <li key={index}>{arg}</li>\\n            ))}\\n          </ul>\\n          <h3>Arguments Against</h3>\\n          <ul>\\n            {analysis.arguments_against.map((arg, index) => (\\n              <li key={index}>{arg}</li>\\n            ))}\\n          </ul>\\n        </div>\\n      )}\\n    </div>\\n  );\\n}\\n\\nexport default App;\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport App from './App';\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>,\\n  document.getElementById('root')\\n);\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(22)},15:function(e,a,t){},22:function(e,a,t){\"use strict\";t.r(a);var l=t(2),n=t.n(l),r=t(9),s=t.n(r),c=t(24);t(15);var o=function(){const[e,a]=Object(l.useState)(null),[t,r]=Object(l.useState)(null),[s,o]=Object(l.useState)(!1),[u,i]=Object(l.useState)(null),[m,p]=Object(l.useState)(0);return n.a.createElement(\"div\",{className:\"app\"},n.a.createElement(\"h1\",null,\"Australian Parliamentary Bill Analyser\"),n.a.createElement(\"form\",{onSubmit:async a=>{if(a.preventDefault(),!e)return;o(!0),i(null),r(null),p(0);const t=new FormData;t.append(\"file\",e);try{const e=await c.a.post(\"http://localhost:3005/api/analyze/\",t,{headers:{\"Content-Type\":\"multipart/form-data\"},timeout:3e5,onUploadProgress:e=>{const a=Math.round(100*e.loaded/e.total);p(a)}});r(e.data)}catch(u){c.a.isAxiosError(u)?\"ECONNABORTED\"===u.code?i(\"The request timed out. Please try again or use a smaller file.\"):u.response?i(\"Error: \".concat(u.response.data.detail||\"Unknown error\")):u.request?i(\"No response received from server. Please check your connection and try again.\"):i(\"Error: \".concat(u.message)):i(\"An unexpected error occurred. Please try again.\"),console.error(\"Error analysing file:\",u)}finally{o(!1)}},className:\"upload-form\"},n.a.createElement(\"input\",{type:\"file\",onChange:e=>{const t=e.target.files[0];t&&t.size>10485760?(i(\"File size exceeds 10MB limit.\"),a(null)):(a(t),i(null))},accept:\".pdf\",className:\"file-input\"}),n.a.createElement(\"button\",{type:\"submit\",disabled:!e||s,className:\"submit-button \".concat(!e||s?\"disabled\":\"\")},s?\"Analysing...\":\"Analyse Bill\")),s&&n.a.createElement(\"div\",{className:\"progress-bar\"},n.a.createElement(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(m,\"%\")}},m,\"%\")),u&&n.a.createElement(\"p\",{className:\"error\"},u),t&&n.a.createElement(\"div\",{className:\"results\"},n.a.createElement(\"h2\",null,\"Analysis Results\"),n.a.createElement(\"h3\",null,\"Summary\"),n.a.createElement(\"p\",null,t.summary),n.a.createElement(\"h3\",null,\"Key Points\"),n.a.createElement(\"ul\",null,t.key_points.map((e,a)=>n.a.createElement(\"li\",{key:a},e))),n.a.createElement(\"h3\",null,\"Arguments For\"),n.a.createElement(\"ul\",null,t.arguments_for.map((e,a)=>n.a.createElement(\"li\",{key:a},e))),n.a.createElement(\"h3\",null,\"Arguments Against\"),n.a.createElement(\"ul\",null,t.arguments_against.map((e,a)=>n.a.createElement(\"li\",{key:a},e)))))};s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o,null)),document.getElementById(\"root\"))}},[[10,1,2]]]);","extractedComments":[]}